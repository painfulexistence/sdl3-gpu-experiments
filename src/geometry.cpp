#include "geometry.hpp"


std::array<PositionTextureVertex, 6> quad = {{
    // bottom-right
    { -1, -1, 0, 0, 0 },
    {  1, -1, 0, 1, 0 },
	{  1,  1, 0, 1, 1 },
    // top-left
	{ -1, -1, 0, 0, 0 },
	{  1,  1, 0, 1, 1 },
	{ -1,  1, 0, 0, 1 }
}};
// Same as:
// PositionTextureVertex quad[6] = {
//     { -1, -1, 0, 0, 0 },
// 	{  1, -1, 0, 1, 0 },
// 	{  1,  1, 0, 1, 1 },
// 	{ -1, -1, 0, 0, 0 },
// 	{  1,  1, 0, 1, 1 },
// 	{ -1,  1, 0, 0, 1 }
// };
std::array<PositionTextureVertex, 24> cube = {{
    // left
    { .5f, .5f, .5f, 1.0f, 1.0f },
    { .5f, -.5f, .5f, 1.0f, 0.0f },
    { -.5f, .5f, .5f, 0.0f, 1.0f },
    { -.5f, -.5f, .5f, 0.0f, 0.0f },
    // right
    { .5f, .5f, -.5f, 1.0f, 1.0f },
    { .5f, -.5f, -.5f, 1.0f, 0.0f },
    { -.5f, .5f, -.5f, 0.0f, 1.0f },
    { -.5f, -.5f, -.5f, 0.0f, 0.0f },
    // back
    { -.5f, .5f, .5f, 1.0f, 1.0f },
    { -.5f, .5f, -.5f, 0.0f, 1.0f },
    { -.5f, -.5f, .5f, 1.0f, 0.0f },
    { -.5f, -.5f, -.5f, 0.0f, 0.0f },
    // front
    { .5f, .5f, .5f, 1.0f, 1.0f },
    { .5f, .5f, -.5f, 0.0f, 1.0f },
    { .5f, -.5f, .5f, 1.0f, 0.0f },
    { .5f, -.5f, -.5f, 0.0f, 0.0f },
    // top
    { .5f, .5f, .5f, 1.0f, 1.0f },
    { .5f, .5f, -.5f, 1.0f, 0.0f },
    { -.5f, .5f, .5f, 0.0f, 1.0f },
    { -.5f, .5f, -.5f, 0.0f, 0.0f },
    // bottom
    { .5f, -.5f, .5f, 1.0f, 1.0f },
    { .5f, -.5f, -.5f, 1.0f, 0.0f },
    { -.5f, -.5f, .5f, 0.0f, 1.0f },
    { -.5f, -.5f, -.5f, 0.0f, 0.0f },
}};
std::array<Uint16, 36> cubeIndices = {{
    0,  2,  1,  1,  2,  3,  4,  5,  6,  6,  5,  7,  8,  9,  10, 10, 9,  11,
    12, 14, 13, 13, 14, 15, 16, 17, 18, 18, 17, 19, 20, 22, 21, 21, 22, 23
}};

CPUMesh CPUMesh::CreateQuad() {
    return CPUMesh({
        // bottom-right
        { -1, -1, 0, 0, 0 },
        {  1, -1, 0, 1, 0 },
        {  1,  1, 0, 1, 1 },
        // top-left
        { -1, -1, 0, 0, 0 },
        {  1,  1, 0, 1, 1 },
        { -1,  1, 0, 0, 1 }
    }, {});
}

CPUMesh CPUMesh::CreateCube() {
    return CPUMesh({
        // left
        { .5f, .5f, .5f, 1.0f, 1.0f },
        { .5f, -.5f, .5f, 1.0f, 0.0f },
        { -.5f, .5f, .5f, 0.0f, 1.0f },
        { -.5f, -.5f, .5f, 0.0f, 0.0f },
        // right
        { .5f, .5f, -.5f, 1.0f, 1.0f },
        { .5f, -.5f, -.5f, 1.0f, 0.0f },
        { -.5f, .5f, -.5f, 0.0f, 1.0f },
        { -.5f, -.5f, -.5f, 0.0f, 0.0f },
        // back
        { -.5f, .5f, .5f, 1.0f, 1.0f },
        { -.5f, .5f, -.5f, 0.0f, 1.0f },
        { -.5f, -.5f, .5f, 1.0f, 0.0f },
        { -.5f, -.5f, -.5f, 0.0f, 0.0f },
        // front
        { .5f, .5f, .5f, 1.0f, 1.0f },
        { .5f, .5f, -.5f, 0.0f, 1.0f },
        { .5f, -.5f, .5f, 1.0f, 0.0f },
        { .5f, -.5f, -.5f, 0.0f, 0.0f },
        // top
        { .5f, .5f, .5f, 1.0f, 1.0f },
        { .5f, .5f, -.5f, 1.0f, 0.0f },
        { -.5f, .5f, .5f, 0.0f, 1.0f },
        { -.5f, .5f, -.5f, 0.0f, 0.0f },
        // bottom
        { .5f, -.5f, .5f, 1.0f, 1.0f },
        { .5f, -.5f, -.5f, 1.0f, 0.0f },
        { -.5f, -.5f, .5f, 0.0f, 1.0f },
        { -.5f, -.5f, -.5f, 0.0f, 0.0f },
    }, {
        0,  2,  1,  1,  2,  3,  4,  5,  6,  6,  5,  7,  8,  9,  10, 10, 9,  11,
        12, 14, 13, 13, 14, 15, 16, 17, 18, 18, 17, 19, 20, 22, 21, 21, 22, 23
    });
}